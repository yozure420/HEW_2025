/* スプリット表示用の変数 */
:root{
  --panel-gap: 24px;     /* main とパネルの隙間 */
  --main-w: 500px;       /* JSで上書き */
  --main-h: 400px;       /* JSで上書き */
}

/* 分割表示時、スクロール固定 */
body.split-open { overflow: hidden; }

/* 分割表示時の main を画面中央基準に左側へ固定配置 */
body.split-open main{
  position: fixed;
  z-index: 1000;
  /* 既存のレイアウトを一時無効化して中央演出 */
  margin: 0 !important;
  left: calc(50% - var(--panel-gap)/2 - var(--main-w));
  top: 50%;
  width: var(--main-w);
  height: var(--main-h);
  transform: translateY(-50%);
  /* 背景と馴染ませるため任意の影 */
  box-shadow: 0 8px 25px rgba(0,0,0,.25);
  border-radius: 12px;
  background: transparent;
}

/* 右側に出す同サイズのパネル */
.side-panel{
  position: fixed;
  z-index: 999;
  left: calc(50% + var(--panel-gap)/2);
  top: 50%;
  width: var(--main-w);
  height: var(--main-h);
  transform: translate(20px, -50%); /* 初期は少し右に置いてフェードイン */
  opacity: 0;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.2);
  backdrop-filter: blur(10px);
  background: rgba(255,255,255,.1);
  box-shadow: 0 8px 25px rgba(0,0,0,.25);
  transition: transform .35s ease, opacity .35s ease;
  overflow: auto;
}

/* 分割表示が有効になったらパネルを所定位置へ */
body.split-open .side-panel{
  transform: translate(0, -50%);
  opacity: 1;
}